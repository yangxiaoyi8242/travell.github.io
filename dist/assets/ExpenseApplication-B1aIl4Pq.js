import{_ as G,r as z,a as x,c,o as f,d as e,w as t,e as n,F as k,i as D,b as _,g as h,E as w}from"./index-D4YcMouI.js";const I={class:"expense-application-container"},J={__name:"ExpenseApplication",setup(j){const N=[{value:"travel",label:"差旅费"},{value:"office",label:"办公用品"},{value:"entertainment",label:"业务招待费"},{value:"training",label:"培训费"},{value:"other",label:"其他费用"}],U=[{value:"sales",label:"销售部"},{value:"marketing",label:"市场部"},{value:"rd",label:"研发部"},{value:"finance",label:"财务部"},{value:"hr",label:"人力资源部"},{value:"admin",label:"行政部"}],o=z({applicantName:"",department:"",expenseType:"",amount:"",purpose:"",startDate:"",endDate:"",attachments:[],remark:""}),q={applicantName:[{required:!0,message:"请输入申请人姓名",trigger:"blur"}],department:[{required:!0,message:"请选择所属部门",trigger:"change"}],expenseType:[{required:!0,message:"请选择费用类型",trigger:"change"}],amount:[{required:!0,message:"请输入费用金额",trigger:"blur"},{type:"number",message:"金额必须为数字",trigger:"blur",transform:u=>Number(u)}],purpose:[{required:!0,message:"请输入费用用途",trigger:"blur"}],startDate:[{required:!0,message:"请选择开始日期",trigger:"change"}],endDate:[{required:!0,message:"请选择结束日期",trigger:"change"}]},p=x(null),d=x(!1),F=async()=>{p.value&&await p.value.validate((u,l)=>{u?(d.value=!0,setTimeout(()=>{d.value=!1,w({message:"费用申请提交成功！",type:"success"}),g()},1e3)):console.log("表单验证失败",l)})},g=()=>{p.value&&(p.value.resetFields(),o.attachments=[])},T=(u,l)=>(o.attachments=l,!1),B=(u,l)=>{o.attachments=l},C=u=>u.size/1024/1024<10?!0:(w.error("上传文件大小不能超过 10MB!"),!1);return(u,l)=>{const m=n("el-input"),r=n("el-form-item"),s=n("el-col"),b=n("el-option"),v=n("el-select"),i=n("el-row"),E=n("el-input-number"),V=n("el-date-picker"),M=n("Plus"),P=n("el-icon"),L=n("el-upload"),y=n("el-button"),R=n("el-form"),A=n("el-card");return f(),c("div",I,[e(A,{class:"form-card"},{header:t(()=>l[8]||(l[8]=[_("div",{class:"card-header"},[_("h2",null,"费用申请表")],-1)])),default:t(()=>[e(R,{ref_key:"formRef",ref:p,model:o,rules:q,"label-position":"top","require-asterisk-position":"right","scroll-to-error":""},{default:t(()=>[e(i,{gutter:20},{default:t(()=>[e(s,{span:12},{default:t(()=>[e(r,{label:"申请人",prop:"applicantName"},{default:t(()=>[e(m,{modelValue:o.applicantName,"onUpdate:modelValue":l[0]||(l[0]=a=>o.applicantName=a),placeholder:"请输入申请人姓名"},null,8,["modelValue"])]),_:1})]),_:1}),e(s,{span:12},{default:t(()=>[e(r,{label:"所属部门",prop:"department"},{default:t(()=>[e(v,{modelValue:o.department,"onUpdate:modelValue":l[1]||(l[1]=a=>o.department=a),placeholder:"请选择所属部门",style:{width:"100%"}},{default:t(()=>[(f(),c(k,null,D(U,a=>e(b,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(i,{gutter:20},{default:t(()=>[e(s,{span:12},{default:t(()=>[e(r,{label:"费用类型",prop:"expenseType"},{default:t(()=>[e(v,{modelValue:o.expenseType,"onUpdate:modelValue":l[2]||(l[2]=a=>o.expenseType=a),placeholder:"请选择费用类型",style:{width:"100%"}},{default:t(()=>[(f(),c(k,null,D(N,a=>e(b,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(s,{span:12},{default:t(()=>[e(r,{label:"费用金额 (元)",prop:"amount"},{default:t(()=>[e(E,{modelValue:o.amount,"onUpdate:modelValue":l[3]||(l[3]=a=>o.amount=a),precision:2,step:100,min:0,style:{width:"100%"},placeholder:"请输入费用金额"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(r,{label:"费用用途",prop:"purpose"},{default:t(()=>[e(m,{modelValue:o.purpose,"onUpdate:modelValue":l[4]||(l[4]=a=>o.purpose=a),placeholder:"请简要描述费用用途"},null,8,["modelValue"])]),_:1}),e(i,{gutter:20},{default:t(()=>[e(s,{span:12},{default:t(()=>[e(r,{label:"开始日期",prop:"startDate"},{default:t(()=>[e(V,{modelValue:o.startDate,"onUpdate:modelValue":l[5]||(l[5]=a=>o.startDate=a),type:"date",placeholder:"选择开始日期",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),e(s,{span:12},{default:t(()=>[e(r,{label:"结束日期",prop:"endDate"},{default:t(()=>[e(V,{modelValue:o.endDate,"onUpdate:modelValue":l[6]||(l[6]=a=>o.endDate=a),type:"date",placeholder:"选择结束日期",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(r,{label:"上传附件"},{default:t(()=>[e(L,{action:"#","auto-upload":!1,"on-change":T,"on-remove":B,"before-upload":C,"file-list":o.attachments,multiple:"","list-type":"picture-card"},{tip:t(()=>l[9]||(l[9]=[_("div",{class:"upload-tip"},"请上传相关票据或证明文件，支持JPG/PNG/PDF格式，单个文件不超过10MB",-1)])),default:t(()=>[e(P,null,{default:t(()=>[e(M)]),_:1})]),_:1},8,["file-list"])]),_:1}),e(r,{label:"备注"},{default:t(()=>[e(m,{modelValue:o.remark,"onUpdate:modelValue":l[7]||(l[7]=a=>o.remark=a),type:"textarea",rows:"3",placeholder:"请输入备注信息（选填）"},null,8,["modelValue"])]),_:1}),e(r,{class:"form-buttons"},{default:t(()=>[e(y,{type:"primary",onClick:F,loading:d.value},{default:t(()=>l[10]||(l[10]=[h("提交申请")])),_:1},8,["loading"]),e(y,{onClick:g},{default:t(()=>l[11]||(l[11]=[h("重置")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])}}},K=G(J,[["__scopeId","data-v-2f65e099"]]);export{K as default};
