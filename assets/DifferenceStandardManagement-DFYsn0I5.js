import{_ as Ce,a as u,r as w,k as De,c as C,o as b,d as l,w as t,e as i,B as Ue,b as D,C as he,F as B,i as q,g as s,D as k,m as W,h as S,j as xe,t as X,I as ze,A as Fe,L as Pe,M as Be,H as qe,J as Y,E as M}from"./index-BrrAfP23.js";const Me={class:"container"},$e={class:"tab-content"},Ee={class:"table-toolbar"},Re={class:"pagination-container"},Ne={class:"dialog-footer"},Le={class:"dialog-footer"},Oe={__name:"DifferenceStandardManagement",setup(je){const L=u("standard"),O=[{value:"all",label:"全部"},{value:"domestic",label:"国内差标"},{value:"international",label:"国际差标"},{value:"special",label:"特殊差标"}],Z=[{value:"all",label:"全部"},{value:"enabled",label:"启用"},{value:"disabled",label:"停用"}],p=w({name:"",type:"all",status:"all"}),j=u([]),$=u(!1),ee=u([]),c=w({currentPage:1,pageSize:10,total:0}),V=u(!1),E=u(""),R=u(""),ae=u(null),n=w({id:"",name:"",type:"domestic",status:"enabled",hotelStandard:"",mealStandard:"",trafficStandard:"",otherStandard:"",description:""}),le={name:[{required:!0,message:"请输入差标名称",trigger:"blur"}],type:[{required:!0,message:"请选择差标类型",trigger:"change"}],hotelStandard:[{required:!0,message:"请输入住宿标准",trigger:"blur"}],mealStandard:[{required:!0,message:"请输入餐饮标准",trigger:"blur"}],trafficStandard:[{required:!0,message:"请输入交通标准",trigger:"blur"}]},U=u(null);De(()=>{y(),J()});const y=()=>{$.value=!0,setTimeout(()=>{let e=[...[{id:"1",name:"普通员工国内差标",type:"domestic",status:"enabled",hotelStandard:"三星级酒店标准间，不超过400元/晚",mealStandard:"不超过100元/天",trafficStandard:"高铁二等座，飞机经济舱",otherStandard:"市内交通不超过80元/天",description:"适用于普通员工国内出差"},{id:"2",name:"经理级国内差标",type:"domestic",status:"enabled",hotelStandard:"四星级酒店标准间，不超过600元/晚",mealStandard:"不超过150元/天",trafficStandard:"高铁一等座，飞机经济舱",otherStandard:"市内交通不超过100元/天",description:"适用于经理级别人员国内出差"},{id:"3",name:"总监级国内差标",type:"domestic",status:"enabled",hotelStandard:"五星级酒店标准间，不超过800元/晚",mealStandard:"不超过200元/天",trafficStandard:"高铁商务座，飞机公务舱",otherStandard:"市内交通不超过150元/天",description:"适用于总监级别人员国内出差"},{id:"4",name:"普通员工国际差标",type:"international",status:"enabled",hotelStandard:"三星级酒店标准间，不超过100美元/晚",mealStandard:"不超过60美元/天",trafficStandard:"飞机经济舱",otherStandard:"市内交通不超过50美元/天",description:"适用于普通员工国际出差"},{id:"5",name:"经理级国际差标",type:"international",status:"enabled",hotelStandard:"四星级酒店标准间，不超过150美元/晚",mealStandard:"不超过80美元/天",trafficStandard:"飞机经济舱",otherStandard:"市内交通不超过70美元/天",description:"适用于经理级别人员国际出差"},{id:"6",name:"特殊项目差标",type:"special",status:"disabled",hotelStandard:"四星级酒店标准间，不超过1000元/晚",mealStandard:"不超过300元/天",trafficStandard:"高铁商务座，飞机公务舱",otherStandard:"市内交通不限额",description:"适用于特殊项目出差"}]];p.name&&(e=e.filter(m=>m.name.includes(p.name))),p.type!=="all"&&(e=e.filter(m=>m.type===p.type)),p.status!=="all"&&(e=e.filter(m=>m.status===p.status)),c.total=e.length;const d=(c.currentPage-1)*c.pageSize,o=d+c.pageSize;j.value=e.slice(d,o),$.value=!1},500)},A=()=>{c.currentPage=1,y()},te=()=>{p.name="",p.type="all",p.status="all",A()},ne=r=>{ee.value=r},oe=r=>{c.currentPage=r,y()},de=r=>{c.pageSize=r,c.currentPage=1,y()},re=()=>{E.value="new",R.value="新增差标",ue(),V.value=!0},se=r=>{E.value="edit",R.value="编辑差标",ae.value=r,Object.keys(n).forEach(e=>{e in r&&(n[e]=r[e])}),V.value=!0},ue=()=>{n.id="",n.name="",n.type="domestic",n.status="enabled",n.hotelStandard="",n.mealStandard="",n.trafficStandard="",n.otherStandard="",n.description="",U.value&&U.value.resetFields()},ie=()=>{U.value.validate(r=>{r&&setTimeout(()=>{M.success(E.value==="new"?"新增差标成功":"编辑差标成功"),V.value=!1,y()},500)})},pe=r=>{Y.confirm("确认删除该差标吗？删除后无法恢复。","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{M.success("删除成功"),y()}).catch(()=>{})},me=r=>{const e=r.status==="enabled"?"disabled":"enabled",d=e==="enabled"?"启用":"停用";Y.confirm(`确认${d}该差标吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{r.status=e,M.success(`${d}成功`),y()}).catch(()=>{})},fe=[{value:"all",label:"全部"},{value:"meal",label:"餐饮补贴"},{value:"traffic",label:"交通补贴"},{value:"accommodation",label:"住宿补贴"},{value:"other",label:"其他补贴"}],_=w({name:"",type:"all",status:"all"}),ce=u([]),I=u(!1);u([]);const h=w({currentPage:1,pageSize:10,total:0}),x=u(!1),be=u(""),ge=u("");u(null);const f=w({id:"",name:"",type:"meal",status:"enabled",amount:"",unit:"元/天",applyTo:"",description:""}),ve={name:[{required:!0,message:"请输入差补名称",trigger:"blur"}],type:[{required:!0,message:"请选择差补类型",trigger:"change"}],amount:[{required:!0,message:"请输入差补金额",trigger:"blur"}],applyTo:[{required:!0,message:"请输入适用范围",trigger:"blur"}]},H=u(null),J=()=>{I.value=!0,setTimeout(()=>{let e=[...[{id:"1",name:"出差餐饮补贴",type:"meal",status:"enabled",amount:"50",unit:"元/天",applyTo:"所有员工",description:"出差期间的餐饮补贴"},{id:"2",name:"市内交通补贴",type:"traffic",status:"enabled",amount:"30",unit:"元/天",applyTo:"所有员工",description:"出差期间的市内交通补贴"},{id:"3",name:"住宿补贴",type:"accommodation",status:"enabled",amount:"100",unit:"元/天",applyTo:"基层员工",description:"基层员工出差住宿补贴"},{id:"4",name:"通讯补贴",type:"other",status:"enabled",amount:"20",unit:"元/天",applyTo:"所有员工",description:"出差期间的通讯补贴"},{id:"5",name:"特殊地区补贴",type:"other",status:"disabled",amount:"100",unit:"元/天",applyTo:"所有员工",description:"前往特殊地区出差的额外补贴"}]];_.name&&(e=e.filter(m=>m.name.includes(_.name))),_.type!=="all"&&(e=e.filter(m=>m.type===_.type)),_.status!=="all"&&(e=e.filter(m=>m.status===_.status)),h.total=e.length;const d=(h.currentPage-1)*h.pageSize,o=d+h.pageSize;ce.value=e.slice(d,o),I.value=!1},500)},ye=()=>{H.value.validate(r=>{r&&setTimeout(()=>{M.success(be.value==="new"?"新增差补成功":"编辑差补成功"),x.value=!1,J()},500)})};return(r,e)=>{const d=i("el-input"),o=i("el-form-item"),m=i("el-option"),z=i("el-select"),T=i("el-icon"),g=i("el-button"),N=i("el-form"),Se=i("el-card"),v=i("el-table-column"),F=i("el-tag"),Ve=i("el-table"),_e=i("el-pagination"),P=i("el-radio"),G=i("el-radio-group"),K=i("el-dialog"),we=i("el-tab-pane"),ke=i("el-tabs"),Te=Ue("loading");return b(),C("div",Me,[l(ke,{modelValue:L.value,"onUpdate:modelValue":e[24]||(e[24]=a=>L.value=a),class:"tabs-container"},{default:t(()=>[l(we,{label:"差标管理",name:"standard"},{default:t(()=>[D("div",$e,[l(Se,{class:"search-card",shadow:"never"},{default:t(()=>[l(N,{inline:!0,model:p,class:"search-form"},{default:t(()=>[l(o,{label:"差标名称"},{default:t(()=>[l(d,{modelValue:p.name,"onUpdate:modelValue":e[0]||(e[0]=a=>p.name=a),placeholder:"请输入差标名称",clearable:""},null,8,["modelValue"])]),_:1}),l(o,{label:"差标类型"},{default:t(()=>[l(z,{modelValue:p.type,"onUpdate:modelValue":e[1]||(e[1]=a=>p.type=a),placeholder:"请选择差标类型",clearable:""},{default:t(()=>[(b(),C(B,null,q(O,a=>l(m,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(o,{label:"状态"},{default:t(()=>[l(z,{modelValue:p.status,"onUpdate:modelValue":e[2]||(e[2]=a=>p.status=a),placeholder:"请选择状态",clearable:""},{default:t(()=>[(b(),C(B,null,q(Z,a=>l(m,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(o,null,{default:t(()=>[l(g,{type:"primary",onClick:A},{default:t(()=>[l(T,null,{default:t(()=>[l(k(W))]),_:1}),e[25]||(e[25]=s("查询 "))]),_:1}),l(g,{onClick:te},{default:t(()=>e[26]||(e[26]=[s(" 重置 ")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),D("div",Ee,[l(g,{type:"primary",onClick:re},{default:t(()=>[l(T,null,{default:t(()=>[l(k(W))]),_:1}),e[27]||(e[27]=s("新增差标 "))]),_:1})]),he((b(),S(Ve,{data:j.value,style:{width:"100%"},border:"",onSelectionChange:ne},{default:t(()=>[l(v,{type:"selection",width:"55"}),l(v,{prop:"name",label:"差标名称","min-width":"150","show-overflow-tooltip":""}),l(v,{prop:"type",label:"差标类型",width:"120"},{default:t(({row:a})=>[a.type==="domestic"?(b(),S(F,{key:0,type:"success"},{default:t(()=>e[28]||(e[28]=[s("国内差标")])),_:1})):a.type==="international"?(b(),S(F,{key:1,type:"warning"},{default:t(()=>e[29]||(e[29]=[s("国际差标")])),_:1})):a.type==="special"?(b(),S(F,{key:2,type:"info"},{default:t(()=>e[30]||(e[30]=[s("特殊差标")])),_:1})):xe("",!0)]),_:1}),l(v,{prop:"hotelStandard",label:"住宿标准","min-width":"180","show-overflow-tooltip":""}),l(v,{prop:"mealStandard",label:"餐饮标准","min-width":"150","show-overflow-tooltip":""}),l(v,{prop:"trafficStandard",label:"交通标准","min-width":"180","show-overflow-tooltip":""}),l(v,{prop:"status",label:"状态",width:"100"},{default:t(({row:a})=>[l(F,{type:a.status==="enabled"?"success":"info"},{default:t(()=>[s(X(a.status==="enabled"?"启用":"停用"),1)]),_:2},1032,["type"])]),_:1}),l(v,{label:"操作",width:"200",fixed:"right"},{default:t(({row:a})=>[l(g,{type:"primary",size:"small",onClick:Q=>se(a)},{default:t(()=>[l(T,null,{default:t(()=>[l(k(ze))]),_:1}),e[31]||(e[31]=s("编辑 "))]),_:2},1032,["onClick"]),l(g,{type:a.status==="enabled"?"warning":"success",size:"small",onClick:Q=>me(a)},{default:t(()=>[l(T,null,{default:t(()=>[(b(),S(Fe(a.status==="enabled"?k(Pe):k(Be))))]),_:2},1024),s(" "+X(a.status==="enabled"?"停用":"启用"),1)]),_:2},1032,["type","onClick"]),l(g,{type:"danger",size:"small",onClick:Q=>pe(a)},{default:t(()=>[l(T,null,{default:t(()=>[l(k(qe))]),_:1}),e[32]||(e[32]=s("删除 "))]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[Te,$.value]]),D("div",Re,[l(_e,{"current-page":c.currentPage,"onUpdate:currentPage":e[3]||(e[3]=a=>c.currentPage=a),"page-size":c.pageSize,"onUpdate:pageSize":e[4]||(e[4]=a=>c.pageSize=a),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:c.total,onSizeChange:de,onCurrentChange:oe},null,8,["current-page","page-size","total"])]),l(K,{modelValue:V.value,"onUpdate:modelValue":e[14]||(e[14]=a=>V.value=a),title:R.value,width:"650px","destroy-on-close":""},{footer:t(()=>[D("div",Ne,[l(g,{onClick:e[13]||(e[13]=a=>V.value=!1)},{default:t(()=>e[35]||(e[35]=[s("取消")])),_:1}),l(g,{type:"primary",onClick:ie},{default:t(()=>e[36]||(e[36]=[s("确定")])),_:1})])]),default:t(()=>[l(N,{ref_key:"standardFormRef",ref:U,model:n,rules:le,"label-width":"100px"},{default:t(()=>[l(o,{label:"差标名称",prop:"name"},{default:t(()=>[l(d,{modelValue:n.name,"onUpdate:modelValue":e[5]||(e[5]=a=>n.name=a),placeholder:"请输入差标名称"},null,8,["modelValue"])]),_:1}),l(o,{label:"差标类型",prop:"type"},{default:t(()=>[l(z,{modelValue:n.type,"onUpdate:modelValue":e[6]||(e[6]=a=>n.type=a),placeholder:"请选择差标类型",style:{width:"100%"}},{default:t(()=>[(b(!0),C(B,null,q(O.filter(a=>a.value!=="all"),a=>(b(),S(m,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(o,{label:"状态",prop:"status"},{default:t(()=>[l(G,{modelValue:n.status,"onUpdate:modelValue":e[7]||(e[7]=a=>n.status=a)},{default:t(()=>[l(P,{label:"enabled"},{default:t(()=>e[33]||(e[33]=[s("启用")])),_:1}),l(P,{label:"disabled"},{default:t(()=>e[34]||(e[34]=[s("停用")])),_:1})]),_:1},8,["modelValue"])]),_:1}),l(o,{label:"住宿标准",prop:"hotelStandard"},{default:t(()=>[l(d,{modelValue:n.hotelStandard,"onUpdate:modelValue":e[8]||(e[8]=a=>n.hotelStandard=a),placeholder:"请输入住宿标准"},null,8,["modelValue"])]),_:1}),l(o,{label:"餐饮标准",prop:"mealStandard"},{default:t(()=>[l(d,{modelValue:n.mealStandard,"onUpdate:modelValue":e[9]||(e[9]=a=>n.mealStandard=a),placeholder:"请输入餐饮标准"},null,8,["modelValue"])]),_:1}),l(o,{label:"交通标准",prop:"trafficStandard"},{default:t(()=>[l(d,{modelValue:n.trafficStandard,"onUpdate:modelValue":e[10]||(e[10]=a=>n.trafficStandard=a),placeholder:"请输入交通标准"},null,8,["modelValue"])]),_:1}),l(o,{label:"其他标准",prop:"otherStandard"},{default:t(()=>[l(d,{modelValue:n.otherStandard,"onUpdate:modelValue":e[11]||(e[11]=a=>n.otherStandard=a),placeholder:"请输入其他标准"},null,8,["modelValue"])]),_:1}),l(o,{label:"描述",prop:"description"},{default:t(()=>[l(d,{modelValue:n.description,"onUpdate:modelValue":e[12]||(e[12]=a=>n.description=a),type:"textarea",rows:3,placeholder:"请输入描述信息"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),l(K,{modelValue:x.value,"onUpdate:modelValue":e[23]||(e[23]=a=>x.value=a),title:ge.value,width:"650px","destroy-on-close":""},{footer:t(()=>[D("div",Le,[l(g,{onClick:e[22]||(e[22]=a=>x.value=!1)},{default:t(()=>e[39]||(e[39]=[s("取消")])),_:1}),l(g,{type:"primary",onClick:ye},{default:t(()=>e[40]||(e[40]=[s("确定")])),_:1})])]),default:t(()=>[l(N,{ref_key:"allowanceFormRef",ref:H,model:f,rules:ve,"label-width":"100px"},{default:t(()=>[l(o,{label:"差补名称",prop:"name"},{default:t(()=>[l(d,{modelValue:f.name,"onUpdate:modelValue":e[15]||(e[15]=a=>f.name=a),placeholder:"请输入差补名称"},null,8,["modelValue"])]),_:1}),l(o,{label:"差补类型",prop:"type"},{default:t(()=>[l(z,{modelValue:f.type,"onUpdate:modelValue":e[16]||(e[16]=a=>f.type=a),placeholder:"请选择差补类型",style:{width:"100%"}},{default:t(()=>[(b(!0),C(B,null,q(fe.filter(a=>a.value!=="all"),a=>(b(),S(m,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(o,{label:"状态",prop:"status"},{default:t(()=>[l(G,{modelValue:f.status,"onUpdate:modelValue":e[17]||(e[17]=a=>f.status=a)},{default:t(()=>[l(P,{label:"enabled"},{default:t(()=>e[37]||(e[37]=[s("启用")])),_:1}),l(P,{label:"disabled"},{default:t(()=>e[38]||(e[38]=[s("停用")])),_:1})]),_:1},8,["modelValue"])]),_:1}),l(o,{label:"补贴金额",prop:"amount"},{default:t(()=>[l(d,{modelValue:f.amount,"onUpdate:modelValue":e[18]||(e[18]=a=>f.amount=a),placeholder:"请输入补贴金额"},null,8,["modelValue"])]),_:1}),l(o,{label:"单位",prop:"unit"},{default:t(()=>[l(d,{modelValue:f.unit,"onUpdate:modelValue":e[19]||(e[19]=a=>f.unit=a),placeholder:"请输入单位"},null,8,["modelValue"])]),_:1}),l(o,{label:"适用范围",prop:"applyTo"},{default:t(()=>[l(d,{modelValue:f.applyTo,"onUpdate:modelValue":e[20]||(e[20]=a=>f.applyTo=a),placeholder:"请输入适用范围"},null,8,["modelValue"])]),_:1}),l(o,{label:"描述",prop:"description"},{default:t(()=>[l(d,{modelValue:f.description,"onUpdate:modelValue":e[21]||(e[21]=a=>f.description=a),type:"textarea",rows:3,placeholder:"请输入描述信息"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])]),_:1})]),_:1},8,["modelValue"])])}}},Ie=Ce(Oe,[["__scopeId","data-v-92b80920"]]);export{Ie as default};
