import{_ as k,r as L,a as m,c as I,o as N,b as t,d as o,w as s,e as a,u as U,f as B,g as d,E as _}from"./index-BrrAfP23.js";const C={class:"login-container"},E={class:"login-box"},F={class:"form-options"},R={__name:"Login",setup(S){const b=U(),l=L({username:"",password:""}),v={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"用户名长度应为3-20个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"密码长度应为6-20个字符",trigger:"blur"}]},n=m(null),u=m(!1),p=m(!1),c=async()=>{n.value&&await n.value.validate(f=>{f&&(u.value=!0,setTimeout(()=>{l.username==="admin"&&l.password==="123456"?(localStorage.setItem("isLoggedIn","true"),localStorage.setItem("user",JSON.stringify({username:l.username,role:"admin"})),_.success("登录成功"),b.push("/")):_.error("用户名或密码错误"),u.value=!1},1e3))})};return(f,e)=>{const g=a("el-input"),i=a("el-form-item"),w=a("el-checkbox"),x=a("el-link"),V=a("el-button"),y=a("el-form");return N(),I("div",C,[t("div",E,[e[6]||(e[6]=t("div",{class:"login-header"},[t("h2",null,"企业费控系统"),t("p",null,"高效管理企业费用，助力业务发展")],-1)),o(y,{ref_key:"loginFormRef",ref:n,model:l,rules:v,"label-position":"top",class:"login-form"},{default:s(()=>[o(i,{prop:"username",label:"用户名"},{default:s(()=>[o(g,{modelValue:l.username,"onUpdate:modelValue":e[0]||(e[0]=r=>l.username=r),placeholder:"请输入用户名","prefix-icon":"User",clearable:""},null,8,["modelValue"])]),_:1}),o(i,{prop:"password",label:"密码"},{default:s(()=>[o(g,{modelValue:l.password,"onUpdate:modelValue":e[1]||(e[1]=r=>l.password=r),type:"password",placeholder:"请输入密码","prefix-icon":"Lock","show-password":"",onKeyup:B(c,["enter"])},null,8,["modelValue"])]),_:1}),t("div",F,[o(w,{modelValue:p.value,"onUpdate:modelValue":e[2]||(e[2]=r=>p.value=r)},{default:s(()=>e[3]||(e[3]=[d("记住我")])),_:1},8,["modelValue"]),o(x,{type:"primary",underline:!1},{default:s(()=>e[4]||(e[4]=[d("忘记密码?")])),_:1})]),o(i,null,{default:s(()=>[o(V,{type:"primary",loading:u.value,class:"login-button",onClick:c},{default:s(()=>e[5]||(e[5]=[d(" 登录 ")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])])}}},K=k(R,[["__scopeId","data-v-550e58ee"]]);export{K as default};
